<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Feeds | 13Widgets | Round Trip Productions, LLC</title>
        <link rel="stylesheet" type="text/css" href="/style.css">
        <style>
            th, td {
                padding: 8;
            }
            table, th, td {
               border: 1px solid gray;
               border-collapse: collapse;
            }
        </style>
    </head>
    <body>
        <div class="center">
            <h1 class="main">13Widgets Feed Directory</h1>
            <p class="main">
                Want to create your own feed? The spec is documented as a <a href="https://json-schema.org">JSON schema</a> in <a href="schema.json">this file</a>.
                <br/>
                <br/>
                <i><a href="/">Return to the project homepage</a></i>
            </p>
            <p class="main">
                <table>
                    <thead style="text-align: left;">
                        <tr>
                            <th>Feed Name</th>
                            <th>Feed Description</th>
                            <th>Feed URL</th>
                        </tr>
                    </thead>
                    <tbody id="feeds-tbody">
                        
                    </tbody>
                </table>
            </p>
            <p class="link">
                <small>&copy;<script>document.write(new Date().getFullYear())</script> Round Trip Productions, LLC</small>
            </p>
        </div>
    </body>
    <script>
        fetch("/feeds/AllDirectory.json")
        .then(data => data.json())
        .then(data => {
            const tbody = document.getElementById("feeds-tbody")
            data.feeds.forEach(feed => {
                const tr = document.createElement("tr")
                const [name, desc, u] = [document.createElement("td"), document.createElement("td"), document.createElement("td")]
                name.innerText = feed.name
                desc.innerText = feed.description 
                u.innerText = feed.url 
                tr.appendChild(name)
                tr.appendChild(desc)
                tr.appendChild(u)
                tbody.appendChild(tr)
            })
        })
    </script>
</html>